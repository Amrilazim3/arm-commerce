"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[990],{1990:(e,t,s)=>{s.r(t),s.d(t,{default:()=>J});var l=s(821),o={class:"container p-12 mx-auto"},a={key:0,class:"flex items-center justify-center h-64"},n=[(0,l.createElementVNode)("h1",{class:"text-xl text-blue-500 font-semibold"}," No products to checkout here : ( ",-1)],r={class:"flex flex-col space-y-8 divide-y divide-gray-300 md:w-2/4"},d={class:"flex flex-col"},i=(0,l.createElementVNode)("h2",{class:"mb-4 font-semibold md:text-lg text-heading"}," Contact Information ",-1),c={class:"flex flex-col"},u=(0,l.createElementVNode)("h2",{class:"pt-4 mb-4 font-semibold md:text-lg text-heading"}," Shipping Information ",-1),m={class:"w-full max-w-md"},p={class:"space-y-2 mb-10"},f={class:"flex w-full items-center justify-between"},h={class:"flex items-center"},y={class:"text-sm"},w={class:"shrink-0 text-white"},b=[(0,l.createElementVNode)("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none"},[(0,l.createElementVNode)("circle",{cx:"12",cy:"12",r:"12",fill:"#fff","fill-opacity":"0.2"}),(0,l.createElementVNode)("path",{d:"M7 13l3 3 7-7",stroke:"#fff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)],N={key:0,class:"text-red-600 text-sm"},V={key:0,class:"flex justify-between"},x={class:"justify-center w-full mx-auto"},g={class:"flex items-center mb-4 justify-between space-x-1.5"},v=["value"],E={key:1,value:"",selected:""},A={class:"flex flex-col w-full ml-0 lg:ml-12 lg:w-2/5"},k={class:"border rounded-md md:pt-0 2xl:p-6"},_=(0,l.createElementVNode)("h2",{class:"text-lg font-semibold"},"Order Summary",-1),S={class:"mt-8"},C={class:"flex flex-col space-y-6"},B={class:"flex space-x-4"},D=["src"],T={class:"text-md font-semibold"},$={key:0},I={class:"text-gray-800"},R=(0,l.createElementVNode)("span",{class:"text-blue-600"},"quantity : ",-1),q=(0,l.createElementVNode)("span",{class:"text-blue-600"},"price : ",-1),j={class:"flex mt-8"},U={class:"text-xl font-semibold"},G={class:"flex items-center w-full py-4 text-sm font-semibold border-b border-gray-300 lg:py-5 lg:px-3 text-heading last:border-b-0 last:text-base last:pb-0"},F={class:"ml-2"},L=(0,l.createElementVNode)("div",{class:"flex items-center w-full py-4 text-sm font-semibold border-b border-gray-300 lg:py-5 lg:px-3 text-heading last:border-b-0 last:text-base last:pb-0"},[(0,l.createTextVNode)(" Shipping Tax : "),(0,l.createElementVNode)("span",{class:"ml-2"},"2.00MYR")],-1),M={class:"flex items-center w-full py-4 text-sm font-semibold border-b border-gray-300 lg:py-5 lg:px-3 text-heading last:border-b-0 last:text-base last:pb-0"},O={class:"ml-2"},P=(0,l.createElementVNode)("p",{class:"mt-4 text-red-600"},[(0,l.createTextVNode)(" For user information, all of this products are not exists in real world and the money you will be pay will be used for our server maintenance. Basically, you only need to pay "),(0,l.createElementVNode)("span",{class:"text-blue-500 font-semibold"},"5.00MYR"),(0,l.createTextVNode)(". Thank you. ")],-1);var Y=s(6201),z=s(277),K=s(9387),Q=s(4268),Z=s(9669),X=s.n(Z);const H={components:{RadioGroup:Y.Ee,RadioGroupLabel:Y.Nt,RadioGroupDescription:Y.Y,RadioGroupOption:Y.$v,XCircleIcon:z.Z,TrashIcon:K.Z},props:{products:Array,addresses:Array,states:Array,statesCities:Object},data:function(){return{selectedAddress:null,isNewAddress:!1,isEmptyShippingSection:!1,contactInformation:"",newAddress:{full_name:"",phone_number:"",state:"",city:"",postal_code:"",street_name:""},totalItems:0,subtotal:0,cities:[],isDisabledButton:!1}},mounted:function(){var e=this;0!==this.addresses.length?this.addresses.forEach((function(t){t.is_default&&(e.selectedAddress=t)})):this.isNewAddress=!0,this.calculateQuantityAndTotal()},watch:{newAddress:{handler:function(e){e.state&&(this.cities=this.statesCities[e.state])},deep:!0},selectedAddress:function(e){e&&(this.newAddress={full_name:"",phone_number:"",state:"",city:"",postal_code:"",street_name:""},this.isNewAddress=!1)}},methods:{calculateQuantityAndTotal:function(){var e=this;this.totalItems=0,this.subtotal=0,this.products.forEach((function(t){e.totalItems+=t.quantity,e.subtotal+=t.price*t.quantity}))},checkout:function(){var e=this;if(this.addresses.length>0&&null==this.selectedAddress&&0==this.isNewAddress)this.isEmptyShippingSection=!0;else{this.isEmptyShippingSection=!1;var t={email:this.contactInformation,isNewAddress:this.isNewAddress,full_name:this.isNewAddress?this.newAddress.full_name:this.selectedAddress.full_name,phone_number:this.isNewAddress?Number(this.newAddress.phone_number):this.selectedAddress.phone_number,state:this.isNewAddress?this.newAddress.state:this.selectedAddress.state,city:this.isNewAddress?this.newAddress.city:this.selectedAddress.city,postal_code:this.isNewAddress?this.newAddress.postal_code:this.selectedAddress.postal_code,street_name:this.isNewAddress?this.newAddress.street_name:this.selectedAddress.street_name};this.$inertia.post("/user/checkout/validate_checkout_information",t,{preserveScroll:!0,onSuccess:function(){e.$swal.fire({title:"Redirecting to payment page",html:"please wait for a moment...",didOpen:function(){e.$swal.showLoading()},allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1}),e.isDisabledButton=!0,t.cartIds=[],e.products.forEach((function(e){t.cartIds.push(e.id)})),X().post("/user/checkout/confirm_order",t).then((function(e){window.location.href=e.data}))}})}},removeProduct:function(e){var t=this;(0,Q.R)().removeProduct(e)&&this.products.forEach((function(s,l){s.id==e&&(t.products.splice(l,1),t.calculateQuantityAndTotal())}))}}};const J=(0,s(3744).Z)(H,[["render",function(e,t,s,Y,z,K){var Q=(0,l.resolveComponent)("Head"),Z=(0,l.resolveComponent)("FormKit"),X=(0,l.resolveComponent)("RadioGroupLabel"),H=(0,l.resolveComponent)("RadioGroupDescription"),J=(0,l.resolveComponent)("RadioGroupOption"),W=(0,l.resolveComponent)("RadioGroup"),ee=(0,l.resolveComponent)("XCircleIcon"),te=(0,l.resolveComponent)("TrashIcon");return(0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,[(0,l.createVNode)(Q,{title:"Checkout"}),(0,l.createElementVNode)("div",null,[(0,l.createElementVNode)("div",o,[0==s.products.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",a,n)):((0,l.openBlock)(),(0,l.createBlock)(Z,{key:1,type:"form",actions:!1,"form-class":"flex flex-col justify-center w-full px-0 mx-auto md:flex-row",onSubmit:K.checkout,"messages-class":"$reset hidden","input-errors":{email:e.$page.props.errors.email,full_name:e.$page.props.errors.full_name?e.$page.props.errors.full_name:"",phone_number:e.$page.props.errors.phone_number?e.$page.props.errors.phone_number:"",state:e.$page.props.errors.state?e.$page.props.errors.state:"",city:e.$page.props.errors.city?e.$page.props.errors.city:"",postal_code:e.$page.props.errors.postal_code?e.$page.props.errors.postal_code:"",street_name:e.$page.props.errors.street_name?e.$page.props.errors.street_name:""}},{default:(0,l.withCtx)((function(){return[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",d,[i,(0,l.createVNode)(Z,{name:"email",label:"Email address",type:"email",validation:"required|email",modelValue:z.contactInformation,"onUpdate:modelValue":t[0]||(t[0]=function(e){return z.contactInformation=e})},null,8,["modelValue"])]),(0,l.createElementVNode)("div",c,[u,(0,l.withDirectives)((0,l.createElementVNode)("div",m,[(0,l.createVNode)(W,{modelValue:z.selectedAddress,"onUpdate:modelValue":t[1]||(t[1]=function(e){return z.selectedAddress=e})},{default:(0,l.withCtx)((function(){return[(0,l.createVNode)(X,{class:"sr-only"},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Server size")]})),_:1}),(0,l.createElementVNode)("div",p,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(s.addresses,(function(e){return(0,l.openBlock)(),(0,l.createBlock)(J,{as:"template",key:e.id,value:e},{default:(0,l.withCtx)((function(t){var s=t.active,o=t.checked;return[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)([[s?"ring-2 ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-300":"",o?"bg-indigo-600 bg-opacity-75 text-white ":"bg-white "],"relative flex cursor-pointer rounded-lg px-5 py-4 shadow-md focus:outline-none"])},[(0,l.createElementVNode)("div",f,[(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("div",y,[(0,l.createVNode)(X,{as:"p",class:(0,l.normalizeClass)([o?"text-white":"text-gray-900","font-medium"])},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)((0,l.toDisplayString)(e.full_name)+" ("+(0,l.toDisplayString)(e.phone_number)+") ",1)]})),_:2},1032,["class"]),(0,l.createVNode)(H,{as:"span",class:(0,l.normalizeClass)([o?"text-sky-100":"text-gray-500","inline"])},{default:(0,l.withCtx)((function(){return[(0,l.createElementVNode)("span",null,(0,l.toDisplayString)(e.street_name),1)]})),_:2},1032,["class"])])]),(0,l.withDirectives)((0,l.createElementVNode)("div",w,b,512),[[l.vShow,o]])])],2)]})),_:2},1032,["value"])})),128))])]})),_:1},8,["modelValue"]),z.isEmptyShippingSection?((0,l.openBlock)(),(0,l.createElementBlock)("p",N," Please select your shipping address ")):(0,l.createCommentVNode)("",!0)],512),[[l.vShow,0!==s.addresses.length]]),s.addresses.length<5&&0!==s.addresses.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",V,[(0,l.createElementVNode)("button",{type:"button",onClick:t[2]||(t[2]=function(e){z.isNewAddress=!0,z.selectedAddress=null,z.isEmptyShippingSection=!1}),class:"text-blue-500"}," add address "),(0,l.withDirectives)((0,l.createVNode)(ee,{onClick:t[3]||(t[3]=function(e){return z.isNewAddress=!1}),class:"h-5 w-5 text-red-500 self-center"},null,512),[[l.vShow,z.isNewAddress]])])):(0,l.createCommentVNode)("",!0),(0,l.withDirectives)((0,l.createElementVNode)("div",x,[(0,l.createVNode)(Z,{name:"full_name",label:"Full name",type:"text",validation:z.isNewAddress?"required|length:5,30":"length:5,30",placeholder:"Enter your full name","inner-class":"mb-4",modelValue:z.newAddress.full_name,"onUpdate:modelValue":t[4]||(t[4]=function(e){return z.newAddress.full_name=e})},null,8,["validation","modelValue"]),(0,l.createVNode)(Z,{name:"phone_number",label:"Phone number",type:"number",validation:z.isNewAddress?"required|number":"",placeholder:"60178891233","inner-class":"mb-4",modelValue:z.newAddress.phone_number,"onUpdate:modelValue":t[5]||(t[5]=function(e){return z.newAddress.phone_number=e})},null,8,["validation","modelValue"]),(0,l.createVNode)(Z,{name:"state",label:"State",type:"select",options:s.states,validation:z.isNewAddress?"required":"",placeholder:"Select state","inner-class":"mb-4",modelValue:z.newAddress.state,"onUpdate:modelValue":t[6]||(t[6]=function(e){return z.newAddress.state=e})},null,8,["options","validation","modelValue"]),(0,l.createElementVNode)("div",g,[(0,l.createVNode)(Z,{name:"city",label:"City",type:"select","outer-class":"flex-1",validation:z.isNewAddress?"required":"",modelValue:z.newAddress.city,"onUpdate:modelValue":t[7]||(t[7]=function(e){return z.newAddress.city=e}),placeholder:"Select city"},{default:(0,l.withCtx)((function(){return[0!==z.cities.length?((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,{key:0},(0,l.renderList)(z.cities,(function(e){return(0,l.openBlock)(),(0,l.createElementBlock)("option",{key:e,value:e},(0,l.toDisplayString)(e),9,v)})),128)):((0,l.openBlock)(),(0,l.createElementBlock)("option",E," Select city "))]})),_:1},8,["validation","modelValue"]),(0,l.createVNode)(Z,{name:"postal_code",label:"Postal code",type:"number","outer-class":"flex-1",validation:z.isNewAddress?"required|length:5,5":"",placeholder:"Enter postal code",modelValue:z.newAddress.postal_code,"onUpdate:modelValue":t[8]||(t[8]=function(e){return z.newAddress.postal_code=e})},null,8,["validation","modelValue"])]),(0,l.createVNode)(Z,{name:"street_name",label:"Street name",type:"text",validation:z.isNewAddress?"required":"",placeholder:"Enter your street name","inner-class":"mb-4",modelValue:z.newAddress.street_name,"onUpdate:modelValue":t[9]||(t[9]=function(e){return z.newAddress.street_name=e})},null,8,["validation","modelValue"])],512),[[l.vShow,z.isNewAddress]])])]),(0,l.createElementVNode)("div",A,[(0,l.createElementVNode)("div",k,[_,(0,l.createElementVNode)("div",S,[(0,l.createElementVNode)("div",C,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(s.products,(function(e){return(0,l.openBlock)(),(0,l.createElementBlock)("div",{key:e.id,class:"flex justify-between"},[(0,l.createElementVNode)("div",B,[(0,l.createElementVNode)("div",null,[(0,l.createElementVNode)("img",{src:e.imageUrl?e.imageUrl.url:"https://picsum.photos/200/300?random="+e.id,alt:"image",class:"w-24 h-30 object-contain"},null,8,D)]),(0,l.createElementVNode)("div",null,[(0,l.createElementVNode)("h2",T,(0,l.toDisplayString)(e.name),1),e.variantName?((0,l.openBlock)(),(0,l.createElementBlock)("p",$,[(0,l.createElementVNode)("span",I,(0,l.toDisplayString)(e.variantName),1)])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("p",null,[R,(0,l.createTextVNode)(" "+(0,l.toDisplayString)(e.quantity),1)]),(0,l.createElementVNode)("p",null,[q,(0,l.createTextVNode)(" "+(0,l.toDisplayString)(e.price)+"MYR ",1)])])]),(0,l.createElementVNode)("div",null,[(0,l.createVNode)(te,{onClick:function(t){return K.removeProduct(e.id)},class:"h-5 w-5 cursor-pointer"},null,8,["onClick"])])])})),128))])]),(0,l.createElementVNode)("div",j,[(0,l.createElementVNode)("h2",U," Total items : "+(0,l.toDisplayString)(z.totalItems),1)]),(0,l.createElementVNode)("div",G,[(0,l.createTextVNode)(" Subtotal : "),(0,l.createElementVNode)("span",F,(0,l.toDisplayString)(z.subtotal)+"MYR",1)]),L,(0,l.createElementVNode)("div",M,[(0,l.createTextVNode)(" Total : "),(0,l.createElementVNode)("span",O,(0,l.toDisplayString)(z.subtotal+2)+"MYR",1)]),(0,l.createVNode)(Z,{disabled:z.isDisabledButton,type:"submit",label:"Confirm order","input-class":z.isDisabledButton?"cursor-not-allowed w-full mt-4 py-3.5":"w-full mt-4 py-3.5"},null,8,["disabled","input-class"]),P])])]})),_:1},8,["onSubmit","input-errors"]))])])],64)}]])}}]);